{"version":3,"sources":["logoSTC.svg","App.js","reportWebVitals.js","index.js"],"names":["targetNetworkName","process","addrMigrator","initWeb3","provider","web3","Web3","eth","extend","methods","name","call","outputFormatter","utils","hexToNumber","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","App","props","state","eula","web3Modal","Web3Modal","network","cacheProvider","a","this","connect","subscribeProvider","getAccounts","accounts","address","net","getId","networkId","chainId","evalStatus","BN","setState","connected","txInProgress","old_token","approve","pow","sub","send","from","on","catch","e","console","log","showErrorMsg","errorMsg","JSON","stringify","migrator_contract","doSwap","Contract","ERC20","abi","new_token","STCSwapper","Promise","all","balanceOf","allowance","getBalance","migrationBonus","d","map","x","oldBalance","newBalance","oldAllowance","migratorETHBalance","migratorSTCV2Balance","I10E18","mul","eligibleForRefund","gte","canSwap","wasApproved","canMigratorRefund","window","location","reload","className","Modal","show","Header","Title","Body","Footer","Button","variant","onClick","src","logoSTC","alt","Alert","div","toString","fromWei","isZero","Spinner","animation","size","bind","doApprove","onConnect","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33aaaa01.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logoSTC.c5bc01c1.svg\";","import React, { Component } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\nimport ERC20 from \"@openzeppelin/contracts/build/contracts/ERC20.json\";\nimport STCSwapper from \"./abi/STCSwapper.json\";\n\nimport \"./App.css\";\nimport logoSTC from \"./logoSTC.svg\";\n\nconst targetNetworkID = +process.env.REACT_APP_TARGET_NETWORK_ID;\nconst targetNetworkName = process.env.REACT_APP_NETWORK_NAME;\nconst addrStcv1 = process.env.REACT_APP_ADDR_STCV1;\nconst addrStcv2 = process.env.REACT_APP_ADDR_STCV2;\nconst addrMigrator = process.env.REACT_APP_ADDR_MIGRATOR;\nconst infuraId = process.env.REACT_APP_INFURA_ID;\n\nfunction initWeb3(provider) {\n  const web3 = new Web3(provider);\n\n  web3.eth.extend({\n    methods: [\n      {\n        name: \"chainId\",\n        call: \"eth_chainId\",\n        outputFormatter: web3.utils.hexToNumber,\n      },\n    ],\n  });\n\n  return web3;\n}\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider,\n    options: {\n      infuraId,\n    },\n  },\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { eula: false };\n    this.web3Modal = new Web3Modal({\n      network: targetNetworkName,\n      cacheProvider: false,\n      providerOptions: providerOptions,\n    });\n  }\n\n  async onConnect() {\n    const provider = await this.web3Modal.connect();\n    await this.subscribeProvider(provider);\n    const web3 = initWeb3(provider);\n\n    const accounts = await web3.eth.getAccounts();\n    const address = accounts[0];\n    const networkId = await web3.eth.net.getId();\n    const chainId = await web3.eth.chainId();\n\n    await this.evalStatus(address, networkId, web3);\n    const BN = web3.utils.BN.BN;\n\n    await this.setState({\n      web3,\n      BN: BN,\n      provider,\n      connected: true,\n      address,\n      chainId,\n      networkId,\n    });\n  }\n\n  async doApprove() {\n    const web3 = this.state.web3;\n    const BN = this.state.BN;\n    this.setState({ txInProgress: true });\n    this.state.old_token.methods\n      .approve(addrMigrator, new BN(2).pow(new BN(256)).sub(new BN(1)))\n      .send({ from: this.state.address })\n      .on(\"confirmation\", () => {\n        this.evalStatus(this.state.address, this.state.networkId, web3);\n        this.setState({ txInProgress: false });\n      })\n      .catch((e) => {\n        console.log(e);\n        this.setState({\n          txInProgress: false,\n          showErrorMsg: true,\n          errorMsg: JSON.stringify(e),\n        });\n      });\n  }\n\n  async doSwap() {\n    const web3 = this.state.web3;\n    this.setState({ txInProgress: true });\n    this.state.migrator_contract.methods\n      .doSwap()\n      .send({ from: this.state.address })\n      .on(\"confirmation\", () => {\n        console.log(\"confirmation\");\n        this.evalStatus(this.state.address, this.state.networkId, web3);\n        this.setState({ txInProgress: false });\n      })\n      .catch((e) => {\n        console.log(e);\n        this.setState({\n          txInProgress: false,\n          showErrorMsg: true,\n          errorMsg: JSON.stringify(e),\n        });\n      });\n  }\n\n  async evalStatus(address, networkId, web3) {\n    const BN = web3.utils.BN.BN;\n    if (networkId === targetNetworkID) {\n      const old_token = new web3.eth.Contract(ERC20.abi, addrStcv1);\n      const new_token = new web3.eth.Contract(ERC20.abi, addrStcv2);\n      const migrator_contract = new web3.eth.Contract(\n        STCSwapper.abi,\n        addrMigrator\n      );\n\n      const d = (\n        await Promise.all([\n          old_token.methods.balanceOf(address).call(),\n          new_token.methods.balanceOf(address).call(),\n          old_token.methods.allowance(address, addrMigrator).call(),\n          web3.eth.getBalance(addrMigrator),\n          migrator_contract.methods.migrationBonus().call(),\n          new_token.methods.balanceOf(addrMigrator).call(),\n        ])\n      ).map((x) => new BN(x));\n      const oldBalance = d[0];\n      const newBalance = d[1];\n      const oldAllowance = d[2];\n      const migratorETHBalance = d[3];\n      const migrationBonus = d[4];\n      const migratorSTCV2Balance = d[5];\n\n      const I10E18 = new BN(10 ** 10).mul(new BN(10 ** 8));\n      const eligibleForRefund = oldBalance.gte(new BN(1000000));\n      const canMigratorRefund = false; // TODO\n      const canSwap = migratorSTCV2Balance.gte(\n        oldBalance.mul(new BN(10 ** 10)).mul(new BN(10 ** 6))\n      );\n      const wasApproved = oldAllowance.gte(oldBalance);\n\n      this.setState({\n        migrator_contract,\n        old_token,\n        new_token,\n        oldBalance,\n        newBalance,\n        oldAllowance,\n        migratorETHBalance,\n        migrationBonus,\n        migratorSTCV2Balance,\n        eligibleForRefund,\n        canMigratorRefund,\n        canSwap,\n        wasApproved,\n        address,\n        I10E18,\n      });\n    }\n  }\n\n  subscribeProvider(provider) {\n    if (!provider.on) {\n      return;\n    }\n    provider.on(\"close\", () => {\n      window.location.reload(false);\n    });\n    provider.on(\"accountsChanged\", async (accounts) => {\n      console.log(accounts);\n      const address = accounts[0];\n      await this.evalStatus(address, this.state.networkId, this.state.web3);\n    });\n    /* TODO: Make is saner - don't reload the app... */\n    provider.on(\"chainChanged\", async () => {\n      window.location.reload(false);\n    });\n    provider.on(\"networkChanged\", async () => {\n      window.location.reload(false);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Modal show={this.state.showErrorMsg}>\n          <Modal.Header>\n            <Modal.Title>Error</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <p>Error: {this.state.errorMsg}</p>\n          </Modal.Body>\n\n          <Modal.Footer>\n            <Button\n              variant=\"primary\"\n              onClick={() => {\n                this.setState({ showErrorMsg: false });\n              }}\n            >\n              OK\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n        <div className=\"wrapper\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div>\n            <img src={logoSTC} className=\"App-logo\" alt=\"logo\" />\n            <div className=\"App-logo-text\">\n              <h2>STCV2 Token migration</h2>\n              {!this.state.eula ? (\n                <div>\n                  <div className=\"App-eula\">\n                    <ol>\n                      <li>\n                        {\" \"}\n                        Only access this app if you&aposre a holder of STCV1{\" \"}\n                      </li>\n                      <li>\n                        {\" \"}\n                        NEVER send STCV1 directly to the migration contract{\" \"}\n                      </li>\n                      <li> If you disregarded 2) then contact STC support </li>\n                      <li>\n                        {\" \"}\n                        You need to have ETH in your wallet in order to swap\n                        STCV1 for STCV2{\" \"}\n                      </li>\n                      <li> The swap is irreversible </li>\n                      <li>\n                        {\" \"}\n                        We will swap all of your STCV1 - smaller swaps are\n                        disallowed{\" \"}\n                      </li>\n                      <li> We will ask you to perform 2 ETH transactions </li>\n                      <li>\n                        {\" \"}\n                        When swapping more than 10k STCV1 you will receive a\n                        full/partial gas refund for both transactions{\" \"}\n                      </li>\n                      <li>\n                        {\" \"}\n                        The migration bonus might be changed at any time - right\n                        now the gas refund is 0.01 ETH{\" \"}\n                      </li>\n                    </ol>\n                  </div>\n                  <Button\n                    variant=\"warning\"\n                    size=\"lg\"\n                    onClick={() => {\n                      this.setState({ eula: true });\n                    }}\n                  >\n                    I understand what I&aposm doing\n                  </Button>\n                </div>\n              ) : !this.state.connected ? (\n                <div>\n                  <Button\n                    variant=\"success\"\n                    size=\"lg\"\n                    onClick={this.onConnect.bind(this)}\n                  >\n                    Connect wallet\n                  </Button>\n                </div>\n              ) : this.state.chainId !== targetNetworkID ? (\n                <Alert variant=\"danger\">\n                  {\" \"}\n                  Unsupported network id! Please switch to {\n                    targetNetworkName\n                  }{\" \"}\n                </Alert>\n              ) : (\n                <div>\n                  <div> Double check that you use the correct account </div>\n                  <div> Connected account: {this.state.address} </div>\n                  <div>\n                    {\" \"}\n                    STCV1 balance:{\" \"}\n                    {this.state.oldBalance\n                      .div(new this.state.BN(10 ** 2))\n                      .toString()}{\" \"}\n                  </div>\n                  <div>\n                    {\" \"}\n                    STCV2 balance:{\" \"}\n                    {this.state.web3.utils.fromWei(this.state.newBalance)}{\" \"}\n                  </div>\n                  <div>\n                    {\" \"}\n                    Migrators STCV1 allowance:{\" \"}\n                    {this.state.wasApproved ? \"OK\" : \"Insufficient\"}\n                  </div>\n                  <div>\n                    {\" \"}\n                    STCV2 available swap supply:{\" \"}\n                    {this.state.web3.utils.fromWei(\n                      this.state.migratorSTCV2Balance\n                    )}{\" \"}\n                  </div>\n                  <div>\n                    ETH refund pool:{\" \"}\n                    {this.state.web3.utils.fromWei(\n                      this.state.migratorETHBalance\n                    )}{\" \"}\n                    ETH\n                  </div>\n                  <div>\n                    Current migration bonus:{\" \"}\n                    {this.state.web3.utils.fromWei(this.state.migrationBonus)}{\" \"}\n                    ETH\n                  </div>\n                  <div>\n                    {this.state.migrationBonus.isZero()\n                      ? \"Migration bonus was disabled by STC - subsidies ended\"\n                      : this.state.eligibleForRefund\n                      ? \"Eligible for gas refund - at the end of the migration you will receive a small ETH refund\"\n                      : \"You're not eligible for a gas refund - you hold less than 10k STCV1\"}\n                  </div>\n\n                  {this.state.oldBalance.isZero() ? (\n                    <Alert variant=\"success\">\n                      You don t hold any STCV1 tokens\n                    </Alert>\n                  ) : !this.state.canSwap ? (\n                    <Alert variant=\"danger\">\n                      {\" \"}\n                      Migration contract has insufficient STCV2 - contact STC\n                      support.{\" \"}\n                    </Alert>\n                  ) : !this.state.wasApproved ? (\n                    <div>\n                      {this.state.txInProgress ? (\n                        <Spinner animation=\"border\" variant=\"success\" />\n                      ) : (\n                        <Button\n                          variant=\"success\"\n                          size=\"lg\"\n                          onClick={this.doApprove.bind(this)}\n                        >\n                          Approve swap?\n                        </Button>\n                      )}\n                    </div>\n                  ) : this.state.txInProgress ? (\n                    <Spinner animation=\"border\" variant=\"success\" />\n                  ) : (\n                    <Button\n                      variant=\"success\"\n                      size=\"lg\"\n                      onClick={this.doSwap.bind(this)}\n                    >\n                      Swap STCV1 for STCV2?\n                    </Button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}